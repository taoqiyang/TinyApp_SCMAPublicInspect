<!--index.wxml-->
<import src="../common/widget/itav.wxml" />

<view class="container my-container">

  <view class="common-colored-bg my-userinfo">
    <image class="my-user-head" mode="scaleToFill" src="{{user.headImgPath && user.headImgPath != '' ? user.headImgPath : '../user/resource/ic_default_head.png'}}"></image>
    <view class="my-user-detailinfo">
      <text wx:if="{{!user}}" bindtap="go2Login">登录/注册</text>
      <block else>
        <text>{{user.userName}}</text>
        <text style="font-size: 28rpx; color:#efefef;">{{user.mobile}}</text>
      </block>
    </view>
  </view>


  <template is="itav" data="{{state_disable: !user, data_title: '已上报', data_rightText: '1', data_iconSrc: 'resources/ic_mark.png', view_container: 'margin-bottom: 2rpx;', event_bindtap: ''}}" />
  <template is="itav" data="{{state_disable: !user, data_title: '处理中', data_rightText: '2', data_iconSrc: 'resources/ic_mark.png', view_container: 'margin-bottom: 2rpx;', event_bindtap: ''}}" />
  <template is="itav" data="{{state_disable: !user, data_title: '已处理', data_rightText: '3', data_iconSrc: 'resources/ic_mark.png', view_container: 'margin-bottom: 2rpx;', event_bindtap: ''}}" />
  <template is="itav" data="{{state_disable: !user, data_title: '不处理', data_rightText: '4', data_iconSrc: 'resources/ic_mark.png', view_container: 'margin-bottom: 24rpx;', event_bindtap: ''}}" />
  
  <template is="itav" data="{{state_disable: !user, view_hideArrow: true, data_title: '我的积分', data_rightText: user.mark + '', data_iconSrc: 'resources/ic_mark.png', view_container: 'margin-bottom: 2rpx;', event_bindtap: ''}}" />


  <view style="flex-grow: 1"></view>

  <button wx:if="{{user}}" class="logout-button" type="primary" bindtap="logout">退出登录</button>

</view>